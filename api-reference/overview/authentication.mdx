## API Key Authentication

Stable Sea uses API keys to authenticate your requests. You can generate them from the **Terminal**.

<Warning>
  API keys are shown only once at the time of creation. Be sure to copy and
  store them securely â€” they cannot be retrieved from the dashboard after
  creation.
</Warning>

All API requests must include an `Authorization` header with: `Bearer <api-key>`

### Request Example

```bash
curl -X GET "https://api.stablesea.com/terminal/v1/customers" \
  -H "Authorization: Bearer sk_live_1234567890abcdef" \
  -H "Content-Type: application/json"
```

## API Key Management

### Key Types

- **Test Keys** (`sk_test_`): Sandbox environment for development
- **Live Keys** (`sk_live_`): Production environment for live transactions

### Security Best Practices

<Warning>
  Never commit API keys to version control or include them in client-side code.
  Always use environment variables or secure secret management systems.
</Warning>

- **Environment Variables**: Store keys in environment variables, never in code
- **Key Rotation**: Rotate keys every 90 days for enhanced security
- **Scope Limitation**: Use separate keys for different services/environments
- **Access Monitoring**: Monitor API key usage through dashboard analytics

<Tip>
  For production environments, consider using a secrets management service like
  AWS Secrets Manager, HashiCorp Vault, or Azure Key Vault to automatically
  rotate keys.
</Tip>

### Key Permissions

| Permission Level | Description                     | Recommended Use           |
| ---------------- | ------------------------------- | ------------------------- |
| **Read-Only**    | View resources, cannot modify   | Reporting, monitoring     |
| **Standard**     | Create/read/update operations   | Most integrations         |
| **Admin**        | Full access including deletions | Administrative operations |

## Enterprise Security Features

### IP Allowlisting

Restrict API key usage to specific IP addresses or CIDR blocks:

- Configure through the Terminal dashboard
- Supports up to 50 IP addresses per key
- Immediate enforcement with no caching delay

### Webhook Security

Secure webhook endpoints with signature verification:

```javascript
const crypto = require("crypto");

function verifyWebhookSignature(payload, signature, secret) {
  const expectedSignature = crypto
    .createHmac("sha256", secret)
    .update(payload)
    .digest("hex");

  return signature === `sha256=${expectedSignature}`;
}
```

### Audit Logging

All API requests are logged with:

- Request timestamp and duration
- Source IP address and user agent
- API key used (masked for security)
- Request and response status codes

Access audit logs through the Terminal dashboard or export via API.
